<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AJAX Implementation</title>
</head>
<body>

<h1>Hello AJAX</h1>
<h2>Let's Implementation with XMLHTTPRequest Object</h2>
<button id="btn" type="button">Save a Request</button>


<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
    $('#btn').click(function (){
      //  alert("btn click works");
        var http = new XMLHttpRequest();
        //console.log(http.status,"After the XMLHttpRequest Object Created.");
        console.log(http.readyState,"After the XMLHttpRequest Object Created.");

        //http.open("GET","abcd");
        //http.open("GET","http://ijse,lk");
        //http.open("POST","index.html");

        console.log("Request Started");

        http.open("GET","db/db.txt");
       // console.log(http.status,"After the Method invoked.");
        console.log(http.readyState,"After the Method invoked.");

        //console.log(http.responseText);
       // console.log(http.status,"After the Response invoked.");
       console.log(http.readyState,"After the Response invoked.");

        http.send();
       // console.log(http.status,"After the Send Method is  invoked.");
        console.log(http.readyState,"After the Send Method is  invoked.");

        //when the requests status are changed. please run this..

        http.onreadystatechange= function () {
            console.log(http.readyState,"Inside On Ready Status Change Event");
            console.log(http.status);
            console.log(http.responseText);
        }

        console.log("Request Finished")


    })
</script>
</body>
</html>